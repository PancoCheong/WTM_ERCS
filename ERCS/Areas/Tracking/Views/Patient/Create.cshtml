@model ERCS.ViewModel.Tracking.PatientVMs.PatientVM
@inject IStringLocalizer<WalkingTec.Mvvm.Core.Program> Localizer;

<wt:form vm="@Model">
    <wt:row items-per-row="ItemsPerRowEnum.Two">
        <wt:textbox field="Entity.PatientName" />
        <wt:textbox field="Entity.IdNumber" />
        <wt:combobox field="Entity.Gender" />
        <wt:combobox field="Entity.Status" />
        <wt:datetime field="Entity.Birthday" />

    <!--
    // dynamic filters
    // only the last one that requires to bind with data entity for capture the final selection
    // assign item once the 1st combobox is selected
    //
    // 3. reference to the new properties in VM
    // 5. rename AllLocations to AllProvinces, specify AllCities, AllDistricts
    // 6. connect the filters Province -> City -> District, URL /Area name/Controller name/Method name
    -->
        <wt:combobox field="ProvinceId" items="AllProvinces" label-text="藉貫(省)" trigger-url="/Data/Location/GetChildLocation" link-field="CityId"/>
        <wt:combobox field="CityId" items="AllCities" label-text="藉貫(市)" trigger-url="/Data/Location/GetChildLocation" link-field="Entity.LocationId"/>
        <wt:combobox field="Entity.LocationId" items="AllDistricts" label-text="藉貫(區)"/>

        <wt:combobox field="Entity.HospitalId" items="AllHospitals" />
        <wt:upload field="Entity.PhotoId" />
    </wt:row>
<wt:row items-per-row="ItemsPerRowEnum.One">
    <wt:transfer field="SelectedVirusesIDs" items="AllVirusess" />
</wt:row>
<wt:row align="AlignEnum.Right">
    <wt:submitbutton />
    <wt:closebutton />
</wt:row>
</wt:form>
